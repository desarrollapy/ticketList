{% extends "base.html" %}

{% block content %}

    <div class="container-fluid">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/main"><i class="fa fa-home" aria-hidden="true"></i></a></li>
            {% if request.user.is_superuser %}
                <li class="breadcrumb-item"><a href="/usuario/listar">Usuarios</a></li>
            {% endif %}
            <li class="breadcrumb-item active">Registrar Usuario</li>
        </ol>

        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header">Registrar</h2>
            </div>
            <!-- /.col-lg-12 -->
        </div>

        <div class="panel-body">
            <div class="col-lg-7">
                <div class="row">

                    <!--Formulario para registrar/modificar un usuario.-->
                    <form role="form" action="{{ action }}" method="POST">
                        {% csrf_token %}
                        <div class="form-group">

                            <!--Campo Email-->
                            <label>Email</label>
                            <input class="form-control" type="email" id="Email" placeholder="ejemplo@mail.com"
                                   name="Email"
                                   value="{{ usuario.email }}" autofocus required>
                            <p class="help-block">Será utilizado para acceder al sistema.</p>
                        </div>

                        <!--Campo Usuario-->
                        <div class="form-group">
                            <label>Usuario</label>
                            <input class="form-control" type="text" id="Username" placeholder="ejemplo"
                                   name="Usuario"
                                   value="{{ usuario.username }}" required>
                        </div>

                        <!--Campo Password-->
                        <div class="form-group">
                            <label>Contraseña</label>
                            <input class="form-control" type="password" id="Password" placeholder="*****"
                                   name="Password"
                                   value="{{ usuario.password }}" required>
                            <p class="help-block">Utilice al menos 8 caracteres alfanuméricos.</p>
                        </div>

                        <!--Campo Nombre-->
                        <div class="form-group">
                            <label>Nombre</label>
                            <input class="form-control" type="text" id="Nombre" placeholder="Carlos" name="Nombre"
                                   value="{{ usuario.nombre }}" required>
                        </div>

                        <!--Campo Apellido-->
                        <div class="form-group">
                            <label>Apellido</label>
                            <input class="form-control" type="text" id="Apellido" placeholder="Lopez"
                                   name="Apellido"
                                   value="{{ usuario.apellido }}" required>
                        </div>

                        <!-- Campo rol -->
                        <div class="form-group">
                            <label>Rol</label>
                            <select class="form-control" name="rol">
                                <option value="">--Seleccione--</option>
                                {% for rol in roles %}
                                    <option value="{{ rol.id }}">{{ rol.name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <!--Campo Administrador-->
                        <div class="form-group">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" name="Administrador" value="True">Administrador
                                </label>
                            </div>
                        </div>

                        {% if action %}
                            <!--Campo Estado-->
                            <div class="form-group">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" name="Estado" value="{{ usuario.is_active }}">Activo
                                    </label>
                                </div>
                            </div>
                        {% endif %}

                        <!--Botón Registrar-->
                        <div style="text-align: center">
                            <button type="submit" class="btn btn-primary">Registrar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
